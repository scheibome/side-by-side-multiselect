!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SideBySideMultiselect=t()}(this,(function(){"use strict";return function(e){void 0===e&&(e="");var t=e.selector?document.querySelectorAll(e.selector):document.querySelectorAll(".js-sidebysidemultiselect"),i=e.classSettings,r=i&&i.wrapperclass?i.wrapperclass:"side-by-side-multiselect",n=i&&i.orderclass?i.orderclass:"side-by-side-multiselect__order",l=i&&i.optionclass?i.optionclass:"side-by-side-multiselect__option",a=i&&i.optionclass?i.optionclass:"side-by-side-multiselect__option--selected",s=i&&i.boxesclass?i.boxesclass:"side-by-side-multiselect__inner",o=i&&i.filterwrapperclass?i.filterwrapperclass:"side-by-side-multiselectfilter",d=i&&i.filterclass?i.filterclass:"side-by-side-multiselectfilter__input",c=i&&i.filterlabelclass?i.filterlabelclass:"side-by-side-multiselectfilter__label",u=i&&i.counterclass?i.counterclass:"side-by-side-multiselect__counter",f=i&&i.labelclass?i.labelclass:"side-by-side-multiselectlabel",p="Error, the select must been a multible select",v="-order",y="--order",m=e.buttons,h=m&&m.arrow?m.arrow:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M19 12l-18 12v-24l18 12zm4-11h-4v22h4v-22z"/></svg>',b=m&&m.singlearrow?m.singlearrow:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M3 12l18-12v24z"/></svg>',x=m&&m.trashicon?m.trashicon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"/></svg>',g=e.labels,w=g&&g.filter?g.filter:"Filter",S=g&&g.selected?g.selected:"Selected: ",E=function(e,t,i){for(;t<0;)t+=e.length;for(;i<0;)i+=e.length;if(i>=e.length)for(var r=i-e.length+1;r--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e},A=function(e,t){var i=e.nextElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.nextElementSibling}},L=function(e,t){var i=e.previousElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.previousElementSibling}},k=function(e){return e.querySelector('[data-boxdirection="add"]')},C=function(e){return document.getElementById(e.id+v)},q=function(e){var t=e.value.trim().split(";");return(t=t.filter((function(e){return 0!==Object.keys(e).length}))).map((function(e){return e.trim()}))},_=function(t,i){var r;if(e.orderOption){var n=C(t);r=q(n)}else r=t.querySelectorAll("option:checked");i.querySelector("."+u).innerText=S+r.length},T=function(e,t,i){q(i).forEach((function(i){if(i){var r=e.querySelector('option[value="'+i+'"]').index,n=t.querySelector('[data-direction="add"][data-index="'+r+'"]');k(t).appendChild(n)}}))},z=function(t,i,r){var n=t.dataset;if(t.className===l&&n.direction&&n.index){var s,o,d=n.index,c=n.value,u=i.querySelectorAll("option"),f=e.orderOption;f&&(s=(o=C(i)).value.trim()),"add"===n.direction?f?(!function(e){var t=k(e).querySelector("."+a);t&&t.classList.remove(a)}(r),t.classList.add(a),o.setAttribute("data-selected",c)):(r.querySelector('[data-direction="remove"][data-index="'+d+'"]').style.display="block",u[d].selected=!1,t.style.display="none"):(r.querySelector('[data-direction="add"][data-index="'+d+'"]').style.display="block",u[d].selected=!0,t.style.display="none",f&&(o.value=s+" "+c+";",T(i,r,o))),e.hideCounter||_(i,r)}},B=function(e,t){var i=document.createElement("div");return i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("tabindex","0"),i.classList.add(s),i.addEventListener("keydown",(function(r){"ArrowDown"===r.key||"ArrowUp"===r.key?function(e,t){e.preventDefault();var i=document.activeElement,r=A(i,':not([style="display: none;"]'),n=L(i,':not([style="display: none;"]');if(i.classList.contains(s)){var a=t.querySelector("."+l+':not([style="display: none;"])');a&&a.focus()}else"ArrowUp"===e.key?void 0!==n&&n.focus():"ArrowDown"===e.key&&void 0!==r&&r.focus()}(r,i):" "!==r.key&&"Enter"!==r.key||function(e,t,i){e.preventDefault();var r=document.activeElement,n=A(r,':not([style="display: none;"]'),l=L(r,':not([style="display: none;"]');void 0!==n?n.focus():void 0!==l?l.focus():r.parentNode.focus(),void 0!==l&&l.focus(),z(r,t,i)}(r,t,e)})),i},O=function(e,t){var i=document.createElement("div");return i.innerHTML=e.text,i.setAttribute("role","option"),i.setAttribute("tabindex","-1"),i.classList.add(l),i.setAttribute("data-value",e.value),i.setAttribute("data-index",e.index),1===t?i.setAttribute("data-direction","add"):i.setAttribute("data-direction","remove"),i},M=function(e,t){e.querySelectorAll("option").forEach((function(e){!function(e,t){var i=t.querySelectorAll("."+s);if(2===i.length){var r=O(e,0),n=O(e,1);i[0].appendChild(r),i[1].appendChild(n)}}(e,t)}))},D=function(t,i,r,n){t.addEventListener("click",(function(t){t.preventDefault();var l=C(i),s=l.dataset.selected,o=q(l),d=o.findIndex((function(e){return e===s})),c=o.length-1,u="";if(-1!==d){switch(n){case 0:d>0&&(o=E(o,d,0));break;case-1:d>0&&(o=E(o,d,d+n));break;case 1:d<c&&(o=E(o,d,d+n));break;case"last":d<c&&(o=E(o,d,c));break;case"remove":o=o.filter((function(e){return e!==s}));var f=r.querySelector('[data-direction="add"][data-value="'+s+'"]');f.style.display="none",f.classList.remove(a),r.querySelector('[data-direction="remove"][data-value="'+s+'"]').style.display="block"}o.forEach((function(e){u=u+e+";"})),l.value=u,T(i,r,l),e.hideCounter||_(i,r)}}))},N=function(e){var t=document.createElement("button");return t.innerHTML=e,t},U=function(e,t){e.querySelectorAll("option").forEach((function(e){var i=t.querySelector('[data-direction="add"][data-index="'+e.index+'"]'),r=t.querySelector('[data-direction="remove"][data-index="'+e.index+'"]');e.selected?(i.style.display="block",r.style.display="none"):(i.style.display="none",r.style.display="block")}))},j=function(t,i){var r=function(t,i){var r=document.createElement("div");r.classList.add(o),e.orderOption&&r.classList.add(o+y);var n=document.createElement("label");n.innerText=w,n.classList.add(c),n.setAttribute("for",t.id+"-filter");var l=document.createElement("input");return l.id=t.id+"-filter",l.setAttribute("type","text"),e.showfilterplaceholder&&l.setAttribute("placeholder",w),l.classList.add(d),l.addEventListener("keyup",(function(){!function(e,t){var i=t.querySelectorAll('[data-direction="remove"]'),r=e.value.toUpperCase();i.forEach((function(e){(e.textContent||e.innerText).toUpperCase().indexOf(r)>-1?e.style.display="block":e.style.display="none"}))}(this,i),""===this.value?(U(t,i),l.classList.remove("isfilled")):l.classList.add("isfilled")})),r.appendChild(l),e.hidefilterlabel||r.appendChild(n),r}(t,i);return i.parentNode.insertBefore(r,i),i};t.forEach((function(t){if(function(e){if("select-multiple"!==e.type){var t=document.createElement("p");return t.innerText=p,t.style.backgroundColor="red",t.style.padding="1rem",t.style.color="white",e.parentNode.insertBefore(t,e),console.log(p,":",e),!1}return!0}(t)){var i=e.orderOption;t.style.display="none",function(e){var t=document.querySelector('label[for="'+e.id+'"]');t&&t.classList.add(f)}(t);var l=function(t){var i=document.createElement("div");e.orderOption,i.classList.add(r),e.orderOption&&i.classList.add(r+y);var n=B(i,t);n.setAttribute("data-boxdirection","remove"),i.appendChild(n);var l=B(i,t);return l.setAttribute("data-boxdirection","add"),i.appendChild(l),t.parentNode.insertBefore(i,t.nextSibling),i}(t);if(M(t,l),U(t,l),e.hidefilter||(l=j(t,l)),i){var a=function(e,t){var i=document.createElement("input");return i.type="hidden",i.id=e.id+v,i.name=e.name.replace("[]","")+v,e.dataset.selecteditems&&(i.value=e.dataset.selecteditems),e.querySelectorAll("option:checked").length!==q(i).length&&console.log("Error, the selected items and the data-selecteditems do not have the same number",":",e),t.appendChild(i),i}(t,l);T(t,l,a),U(t,l),function(e,t){var i=document.createElement("div"),r=t.querySelector('[data-boxdirection="remove"]');i.classList.add(n);var l=N(h);l.classList.add("totop"),D(l,e,t,0),i.appendChild(l);var a=N(b);a.classList.add("up"),D(a,e,t,-1),i.appendChild(a);var s=N(b);s.classList.add("down"),D(s,e,t,1),i.appendChild(s);var o=N(h);o.classList.add("tobottom"),D(o,e,t,"last"),i.appendChild(o);var d=N(x);d.classList.add("trash"),D(d,e,t,"remove"),i.appendChild(d),r.after(i)}(t,l)}if(!e.hideCounter){var s=function(){var e=document.createElement("div");return e.innerText=S,e.classList.add(u),e}();l.appendChild(s),_(t,l)}l.addEventListener("click",(function(e){z(e.target,t,l)}))}}))}}));

"use strict";var SideBySideMultiselect=function(e){void 0===e&&(e="");var t=e.selector?document.querySelectorAll(e.selector):document.querySelectorAll(".js-sidebysidemultiselect"),n=e.classSettings,i=n&&n.wrapperclass?n.wrapperclass:"side-by-side-multiselect",l=n&&n.optionclass?n.optionclass:"side-by-side-multiselect__option",r=n&&n.boxesclass?n.boxesclass:"side-by-side-multiselect__inner",s=n&&n.filterclass?n.filterclass:"side-by-side-multiselectfilter",o=n&&n.counterclass?n.counterclass:"side-by-side-multiselect__counter",a=n&&n.labelclass?n.labelclass:"side-by-side-multiselectlabel",d="Error, the select must been a multible select",c=e.labels,u=c&&c.filter?c.filter:"Filter",y=c&&c.selected?c.selected:"Selected: ",p=function(e,t){var n=e.nextElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}},f=function(e,t){var n=e.previousElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}},v=function(e,t){var n=document.createElement("div");return n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("tabindex","0"),n.classList.add(r),n.addEventListener("keydown",(function(i){"ArrowDown"===i.key||"ArrowUp"===i.key?function(e,t){e.preventDefault();var n=document.activeElement,i=p(n,':not([style="display: none;"]'),s=f(n,':not([style="display: none;"]');if(n.classList.contains(r)){var o=t.querySelector("."+l+':not([style="display: none;"])');o&&o.focus()}else"ArrowUp"===e.key?void 0!==s&&s.focus():"ArrowDown"===e.key&&void 0!==i&&i.focus()}(i,n):" "===i.key&&function(e,t,n){e.preventDefault();var i=document.activeElement,l=p(i,':not([style="display: none;"]'),r=f(i,':not([style="display: none;"]');void 0!==l?l.focus():void 0!==r?r.focus():i.parentNode.focus(),void 0!==r&&r.focus(),x(i,t,n)}(i,t,e)})),n},b=function(e,t){var n=document.createElement("div");return n.innerHTML=e.text,n.setAttribute("role","option"),n.setAttribute("tabindex","-1"),n.classList.add(l),n.setAttribute("data-index",e.index),1===t?(n.setAttribute("data-direction","add"),e.selected?n.style.display="block":n.style.display="none"):(n.setAttribute("data-direction","remove"),e.selected?n.style.display="none":n.style.display="block"),n},m=function(e,t){e.querySelectorAll("option").forEach((function(e){!function(e,t){var n=t.querySelectorAll("."+r);if(2===n.length){var i=b(e,1,n[1]),l=b(e,0,n[0]);n[0].appendChild(l),n[1].appendChild(i)}}(e,t)}))},x=function(t,n,i){var r=t.dataset;if(t.className===l&&r.direction&&r.index){var s=r.index,o=n.querySelectorAll("option");t.style.display="none","add"===r.direction?(i.querySelector('[data-direction="remove"][data-index="'+s+'"]').style.display="block",o[s].selected=!1):(i.querySelector('[data-direction="add"][data-index="'+s+'"]').style.display="block",o[s].selected=!0),e.hideCounter||S(n,i)}},S=function(e,t){var n=e.querySelectorAll("option:checked");t.querySelector("."+o).innerText=y+n.length};t.forEach((function(t){if(function(e){if("select-multiple"!==e.type){var t=document.createElement("p");return t.innerText=d,t.style.backgroundColor="red",t.style.padding="1rem",t.style.color="white",e.parentNode.insertBefore(t,e),console.log(d,":",e),!1}return!0}(t)){t.style.display="none",function(e){var t=document.querySelector('label[for="'+e.id+'"]');t&&t.classList.add(a)}(t);var n=function(e){var t=document.createElement("div");t.classList.add(i);var n=v(t,e);t.appendChild(n);var l=v(t,e);return t.appendChild(l),e.parentNode.insertBefore(t,e.nextSibling),t}(t);if(m(t,n),e.hidefilter||(n=function(e,t){var n=document.createElement("input");return n.setAttribute("type","text"),n.setAttribute("placeholder",u),n.classList.add(s),n.addEventListener("keyup",(function(){!function(e,t){var n=t.querySelectorAll('[data-direction="remove"]'),i=e.value.toUpperCase();n.forEach((function(e){(e.textContent||e.innerText).toUpperCase().indexOf(i)>-1?e.style.display="block":e.style.display="none"}))}(this,t),""===this.value&&function(e,t){e.querySelectorAll("option").forEach((function(e){var n=t.querySelector('[data-direction="add"][data-index="'+e.index+'"]'),i=t.querySelector('[data-direction="remove"][data-index="'+e.index+'"]');e.selected?(n.style.display="block",i.style.display="none"):(n.style.display="none",i.style.display="block")}))}(e,t)})),t.parentNode.insertBefore(n,t),t}(t,n)),!e.hideCounter){var l=function(){var e=document.createElement("div");return e.innerText=y,e.classList.add(o),e}();n.appendChild(l),S(t,n)}n.addEventListener("click",(function(e){x(e.target,t,n)}))}}))};

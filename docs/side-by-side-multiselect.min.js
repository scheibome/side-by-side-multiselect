"use strict";var SideBySideMultiselect=function(e){void 0===e&&(e="");var t=e.selector?document.querySelectorAll(e.selector):document.querySelectorAll(".js-sidebysidemultiselect"),i=e.classSettings,l=i&&i.wrapperclass?i.wrapperclass:"side-by-side-multiselect",n=i&&i.optionclass?i.optionclass:"side-by-side-multiselect__option",r=i&&i.boxesclass?i.boxesclass:"side-by-side-multiselect__inner",s=i&&i.filterwrapperclass?i.filterwrapperclass:"side-by-side-multiselectfilter",a=i&&i.filterclass?i.filterclass:"side-by-side-multiselectfilter__input",d=i&&i.filterlabelclass?i.filterlabelclass:"side-by-side-multiselectfilter__label",o=i&&i.counterclass?i.counterclass:"side-by-side-multiselect__counter",c=i&&i.labelclass?i.labelclass:"side-by-side-multiselectlabel",u="Error, the select must been a multible select",y=e.labels,f=y&&y.filter?y.filter:"Filter",p=y&&y.selected?y.selected:"Selected: ",v=function(e,t){var i=e.nextElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.nextElementSibling}},b=function(e,t){var i=e.previousElementSibling;if(!t)return i;for(;i;){if(i.matches(t))return i;i=i.previousElementSibling}},m=function(e,t){var i=document.createElement("div");return i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("tabindex","0"),i.classList.add(r),i.addEventListener("keydown",(function(l){"ArrowDown"===l.key||"ArrowUp"===l.key?function(e,t){e.preventDefault();var i=document.activeElement,l=v(i,':not([style="display: none;"]'),s=b(i,':not([style="display: none;"]');if(i.classList.contains(r)){var a=t.querySelector("."+n+':not([style="display: none;"])');a&&a.focus()}else"ArrowUp"===e.key?void 0!==s&&s.focus():"ArrowDown"===e.key&&void 0!==l&&l.focus()}(l,i):" "!==l.key&&"Enter"!==l.key||function(e,t,i){e.preventDefault();var l=document.activeElement,n=v(l,':not([style="display: none;"]'),r=b(l,':not([style="display: none;"]');void 0!==n?n.focus():void 0!==r?r.focus():l.parentNode.focus(),void 0!==r&&r.focus(),S(l,t,i)}(l,t,e)})),i},x=function(e,t){var i=document.createElement("div");return i.innerHTML=e.text,i.setAttribute("role","option"),i.setAttribute("tabindex","-1"),i.classList.add(n),i.setAttribute("data-index",e.index),1===t?(i.setAttribute("data-direction","add"),e.selected?i.style.display="block":i.style.display="none"):(i.setAttribute("data-direction","remove"),e.selected?i.style.display="none":i.style.display="block"),i},h=function(e,t){e.querySelectorAll("option").forEach((function(e){!function(e,t){var i=t.querySelectorAll("."+r);if(2===i.length){var l=x(e,1,i[1]),n=x(e,0,i[0]);i[0].appendChild(n),i[1].appendChild(l)}}(e,t)}))},S=function(t,i,l){var r=t.dataset;if(t.className===n&&r.direction&&r.index){var s=r.index,a=i.querySelectorAll("option");t.style.display="none","add"===r.direction?(l.querySelector('[data-direction="remove"][data-index="'+s+'"]').style.display="block",a[s].selected=!1):(l.querySelector('[data-direction="add"][data-index="'+s+'"]').style.display="block",a[s].selected=!0),e.hideCounter||A(i,l)}},A=function(e,t){var i=e.querySelectorAll("option:checked");t.querySelector("."+o).innerText=p+i.length},E=function(t,i){var l=function(t,i){var l=document.createElement("div");l.classList.add(s);var n=document.createElement("label");n.innerText=f,n.classList.add(d),n.setAttribute("for",t.id+"-filter");var r=document.createElement("input");return r.id=t.id+"-filter",r.setAttribute("type","text"),e.showfilterplaceholder&&r.setAttribute("placeholder",f),r.classList.add(a),r.addEventListener("keyup",(function(){!function(e,t){var i=t.querySelectorAll('[data-direction="remove"]'),l=e.value.toUpperCase();i.forEach((function(e){(e.textContent||e.innerText).toUpperCase().indexOf(l)>-1?e.style.display="block":e.style.display="none"}))}(this,i),""===this.value?(function(e,t){e.querySelectorAll("option").forEach((function(e){var i=t.querySelector('[data-direction="add"][data-index="'+e.index+'"]'),l=t.querySelector('[data-direction="remove"][data-index="'+e.index+'"]');e.selected?(i.style.display="block",l.style.display="none"):(i.style.display="none",l.style.display="block")}))}(t,i),r.classList.remove("isfilled")):r.classList.add("isfilled")})),l.appendChild(r),e.hidefilterlabel||l.appendChild(n),l}(t,i);return i.parentNode.insertBefore(l,i),i};t.forEach((function(t){if(function(e){if("select-multiple"!==e.type){var t=document.createElement("p");return t.innerText=u,t.style.backgroundColor="red",t.style.padding="1rem",t.style.color="white",e.parentNode.insertBefore(t,e),console.log(u,":",e),!1}return!0}(t)){t.style.display="none",function(e){var t=document.querySelector('label[for="'+e.id+'"]');t&&t.classList.add(c)}(t);var i=function(e){var t=document.createElement("div");t.classList.add(l);var i=m(t,e);t.appendChild(i);var n=m(t,e);return t.appendChild(n),e.parentNode.insertBefore(t,e.nextSibling),t}(t);if(h(t,i),e.hidefilter||(i=E(t,i)),!e.hideCounter){var n=function(){var e=document.createElement("div");return e.innerText=p,e.classList.add(o),e}();i.appendChild(n),A(t,i)}i.addEventListener("click",(function(e){S(e.target,t,i)}))}}))};
